@model InventoryUi.Models.Product
<div class="col-md-2 mb-4 d-flex align-items-stretch">
    <div class="card d-flex flex-column" style="width: 100%;">
        <!-- Product Image -->
        <img src="/images/Product/@Model?.ImageURL"
             alt="Product Image"
             class="card-img-top"
             width="150"
             height="200"
             onerror="this.onerror=null;this.src='/ProjectRootImg/default-user.png';">

        <div class="card-body d-flex flex-column">
            <!-- Stock Status -->
            @if (Model?.UnitsInStock > 0)
            {
                <p class="text-success mb-2">In Stock</p>
            }
            else
            {
                <p class="text-danger mb-2">Out of Stock</p>
            }

            <!-- Product Name (remove text-truncate to show full name) -->
            <h5 class="card-title">@Model?.ProductName</h5>

            <!-- Star Rating -->
            <div class="d-flex align-items-center mb-3">
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <i class="fas fa-star text-warning"></i>
                <span class="ms-2">(1)</span>
            </div>

            <!-- Push pricing to the bottom -->
            <div class="mt-auto">
                <!-- Pricing Logic -->
                @if (Model?.Discount > 0)
                {
                    <!-- Show original price with strike-through -->
                    <span class="text-decoration-line-through text-muted me-2">৳@Model?.UnitPrice</span>
                    <!-- Show discounted price -->
                    <span class="fw-bold fs-5 d-block text-success">
                        ৳@string.Format("{0:F2}", Model?.UnitPrice - (Model?.UnitPrice * Model?.Discount.Value / 100))
                    </span>


                    <!-- Show percentage discount -->
                    <span class="badge bg-danger">@Model?.Discount% Off</span>
                }
                else
                {
                    <!-- Show regular price when no discount -->
                    <span class="fw-bold fs-5 d-block">৳@Model?.UnitPrice</span>
                }
            </div>
        </div>
    </div>
</div>